# Тема 7. Работа с файлами (ввод, вывод)
Отчет по Теме #7 выполнил:
- Каримов Денис Азатович
- ПИЭ-23-1

| Задание | Лаб_раб | Сам_раб |
| ------ | ------ | ------ |
| Задание 1 | + | + |
| Задание 2 | + | + |
| Задание 3 | + | + |
| Задание 4 | + | + |
| Задание 5 | + | + |
| Задание 6 | + | Отсутствует |
| Задание 7 | + | Отсутствует |
| Задание 8 | + | Отсутствует |
| Задание 9 | + | Отсутствует |
| Задание 10 | + | Отсутствует |

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- Т.В.Ротенштрайх

## Лабораторная работа №1
### Составьте текстовый файл и положите его в одну директорию с программой на Python. Текстовый файл должен состоять минимум из двух строк.
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l1.PNG)

## Лабораторная работа №2
### Напишите программу, которая выведет только первую строку из вашего файла, при этом используйте конструкцию open()/close().
```python
f = open('l1.txt', 'r')
print(f.readline())
f.close()
```
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l2.PNG)

## Лабораторная работа №3
### Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию open()/close().
```python
f = open('l1.txt', 'r')
print(f.readlines())
f.close()
```
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l3.PNG)

## Лабораторная работа №4
### Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию with open().
```python
with open('l1.txt', 'r') as f:
    print(f.readlines())
```
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l4.PNG)

## Лабораторная работа №5
### Напишите программу, которая выведет каждую строку из вашего файла отдельно, при этом используйте конструкцию with open().
```python
with open('l1.txt', 'r') as f:
    for line in f:
        print(line)
```
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l5.PNG)

## Лабораторная работа №6
### Напишите программу, которая будет добавлять новую строку в ваш файл, а потом выведет полученный файл в консоль. Вывод можно осуществлять любым способом. Обязательно проверьте сам файл, чтобы изменения в нем тоже отображались.
```python
with open('l5.txt', 'a+') as f:
    f.write('\nIm additional line')

with open('l5.txt', 'r') as f:
    result = f.readlines()
    print(result)
```
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l6.PNG)

## Лабораторная работа №7
### Напишите программу, которая перепишет всю информацию, которая была у вас в файле до этого, например напишет любые данные из произвольно вами составленного списка. Также не забудьте проверить что измененная вами информация сохранилась в файле
```python
#lines = ['stroka1', 'stroka2']
#with open('l6.txt', 'w') as f:
#    for line in lines:
#        f.write(line + '\n')

lines = ['one', 'two', 'three']
with open('l6.txt', 'w') as f:
    for line in lines:
        f.write('Cycle run ' + line + '\n')
    print('Done!')
```
### Результат.
### ДО:
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l7_1.PNG)
### ПОСЛЕ:
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l7_2.PNG)

## Лабораторная работа №8
### Выберите любую папку на своем компьютере, имеющую вложенные директории. Выведите на печать в терминал ее содержимое, как и всех подкаталогов при помощи функции print_docs(directory)
```python
import os

def print_docs(directory):
    all_files = os.walk(directory)
    for catalog in all_files:
        print(f'Папка {catalog[0]} содержит: ')
        print(f'Директории: {", ".join([folder for folder in catalog[1]])}')
        print(f'Файлы: {", ".join([file for file in catalog[2]])}')
        print('-' * 40)

print_docs('C:\\Users\\vomiraq\\Pictures')
```
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l8.PNG)

## Лабораторная работа №9
### Документ «input.txt» содержит следующий текст:
### Приветствие
### Спасибо
### Извините
### Пожалуйста
### До свидания
### Ты готов?
### Как дела?
### С днем рождения!
### Удача!
### Я тебя люблю.
### Требуется реализовать функцию, которая выводит слово, имеющее
### максимальную длину (или список слов, если таковых несколько).
### Проверьте работоспособность программы на своем наборе данных
```python
def longest_words(file):
    with open(file, encoding = 'utf-8') as f:
        words = f.read().split()
        max_length = len(max(words, key = len))
        for word in words:
            if len(word) == max_length:
                sought_words = word

        if len(sought_words) == 1:
            return sought_words[0]
        return sought_words

print(longest_words('l8.txt'))
```
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l9.PNG)

## Лабораторная работа №10
### Требуется создать csv-файл «rows_300.csv» со следующими столбцами:
### • № - номер по порядку (от 1 до 300);
### • Секунда – текущая секунда на вашем ПК;
### • Микросекунда – текущая миллисекунда на часах.
### Для наглядности на каждой итерации цикла искусственно
### приостанавливайте скрипт на 0,01 секунды.
```python
import csv
import datetime
import time

with open('rows_300.csv', 'w', encoding='utf-8', newline='') as f:
    writer = csv.writer(f)
    writer.writerow(['№', 'Секунда', 'Микросекунда'])
    for i in range(1, 301):
        writer.writerow([i, datetime.datetime.now().second, datetime.datetime.now().microsecond])
        time.sleep(0.01)
```
### Результат.
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/l10.PNG)

## Самостоятельная работа №1
### Найдите в интернете любую статью (объем статьи не менее 200
### слов), скопируйте ее содержимое в файл и напишите программу,
### которая считает количество слов в текстовом файле и определит
### самое часто встречающееся слово. Результатом выполнения задачи
### будет: скриншот файла со статьей, листинг кода, и вывод в консоль,
### в котором будет указана вся необходимая информация.
```python
def analiz_texta(file):
    with open(file, encoding='utf-8') as f:
        text = f.read().lower()
        
        for simbol in ",.!?;:-\"()\n":
            text = text.replace(simbol, " ")
        slova = text.split()
        kolichestvo_slov = len(slova)
        chastota = {}
        
        for slovo in slova:
            chastota[slovo] = chastota.get(slovo, 0) + 1
        chastoe_slovo = max(chastota, key=chastota.get)
        skolko_raz = chastota[chastoe_slovo]
        
        print(f"Количество слов в файле: {kolichestvo_slov}")
        print(f"Самое частое слово: '{chastoe_slovo}' — встречается {skolko_raz} раз(а)")

analiz_texta("s1.txt")
```
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/s1.PNG)
### Программа считывает текстовый файл, подсчитывает количество слов и определяет самое часто встречающееся слово. В процессе работы были закреплены навыки работы с файлами, строками, методами read(), split(), lower(), а также словарями для подсчета частоты элементов. Итог: количество слов определено корректно, самое частое слово выявлено правильно.

## Самостоятельная работа №2
### У вас появилась потребность в ведении книги расходов, посмотрев
### все существующие варианты вы пришли к выводу что вас ничего не
### устраивает и нужно все делать самому. Напишите программу для
### учета расходов. Программа должна позволять вводить информацию
### о расходах, сохранять ее в файл и выводить существующие данные в
### консоль. Ввод информации происходит через консоль. Результатом
### выполнения задачи будет: скриншот файла с учетом расходов,
### листинг кода, и вывод в консоль, с демонстрацией
### работоспособности программы.
```python
def dobavit_rasxod(file):
    kategorii = input("Введите категорию расхода: ")
    summa = input("Введите сумму расхода: ")
    opisanie = input("Введите описание расхода: ")
    with open(file, "a", encoding="utf-8") as f:
        f.write(f"{kategorii};{summa};{opisanie}\n")
    print("Расход добавлен!")

def posmotret_rasxody(file):
    try:
        with open(file, "r", encoding="utf-8") as f:
            print("Существующие расходы:")
            for line in f:
                kategorii, summa, opisanie = line.strip().split(";")
                print(f"Категория: {kategorii}, Сумма: {summa}, Описание: {opisanie}")
    except FileNotFoundError:
        print("Файл с расходами еще не создан.")

def glavnyy_menu():
    file = "s2.txt"
    while True:
        print("\n1. Добавить расход\n2. Посмотреть все расходы\n3. Выход")
        vibor = input("Выберите действие: ")
        if vibor == "1":
            dobavit_rasxod(file)
        elif vibor == "2":
            posmotret_rasxody(file)
        elif vibor == "3":
            print("Выход из программы.")
            break
        else:
            print("Неверный выбор. Попробуйте снова.")

glavnyy_menu()
```
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/s2.PNG)
### Реализована система учёта расходов с возможностью добавления и просмотра данных, сохранённых в текстовом файле. Закреплены навыки работы с файлами (open в режимах "a" и "r"), вводом данных через консоль, обработкой ошибок FileNotFoundError и циклом while для организации меню. Итог: программа корректно сохраняет и отображает расходы.

## Самостоятельная работа №3
### Имеется файл input.txt с текстом на латинице. Напишите программу,
### которая выводит следующую статистику по тексту: количество букв
### латинского алфавита; число слов; число строк.
### • Текст в файле:
### Beautiful is better than ugly.
### Explicit is better than implicit.
### Simple is better than complex.
### Complex is better than complicated.
### • Ожидаемый результат:
### Input file contains:
### 108 letters
### 20 words
### 4 lines
```python
def stat_text(fail):
    with open(fail, encoding='utf-8') as f:
        text = f.read()
        lines = text.splitlines()
        num_lines = len(lines)
        words = text.split()
        num_words = len(words)
        num_letters = sum(1 for c in text if c.isalpha() and c.isascii())
        print("Input file contains:")
        print(f"{num_letters} letters")
        print(f"{num_words} words")
        print(f"{num_lines} lines")

stat_text("s3.txt")
```
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/s3.PNG)
### Программа анализирует текстовый файл на предмет количества букв латинского алфавита, слов и строк. Закреплено использование методов строк (split(), splitlines()), подсчет элементов с помощью генераторов списков и условий (isalpha(), isascii()), а также работа с файлами через with open(). Итог: статистика по файлу сформирована корректно.

## Самостоятельная работа №4
### Напишите программу, которая получает на вход предложение,
### выводит его в терминал, заменяя все запрещенные слова
### звездочками * (количество звездочек равно количеству букв в
### слове). Запрещенные слова, разделенные символом пробела,
### хранятся в текстовом файле input.txt. Все слова в этом файле
### записаны в нижнем регистре. Программа должна заменить
### запрещенные слова, где бы они ни встречались, даже в середине
### другого слова. Замена производится независимо от регистра: если
### файл input.txt содержит запрещенное слово exam, то слова exam,
### Exam, ExaM, EXAM и exAm должны быть заменены на ****.
### • Запрещенные слова:
### hello email python the exam wor is
### • Предложение для проверки:
### Hello, world! Python IS the programming language of thE future. My
### EMAIL is....
### PYTHON is awesome!!!!
### • Ожидаемый результат:
### *****, ***ld! ****** ** *** programming language of *** future. My
### ***** **....
### ****** ** awesome!!!!
```python
def zamena_zapreshennyh(file, text):
    with open(file, encoding='utf-8') as f:
        zapr_words = f.read().lower().split()

    text_low = text.lower()
    mask = list(text)

    for zapr in zapr_words:
        start = 0
        while True:
            index = text_low.find(zapr, start)
            if index == -1:
                break
            for i in range(index, index + len(zapr)):
                mask[i] = '*'
            start = index + 1

    print("".join(mask))


proverka_text = """Hello, world! Python IS the programming language of the future. My EMAIL is....
PYTHON is awesome!!!!"""

zamena_zapreshennyh("s4.txt", proverka_text)
```
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/s4.PNG)
### Реализована фильтрация запрещенных слов в предложении с заменой их на звездочки. Программа демонстрирует навыки работы с файлами, методами строк (find, lower), циклической обработкой и заменой символов. Итог: запрещенные слова заменяются корректно, независимо от регистра и положения в тексте.

## Самостоятельная работа №5
### Самостоятельно придумайте и решите задачу, которая будет взаимодействовать с текстовым файлом.
```python
# Написать программу, которая позволяет вести список любимых фильмов 
# с сохранением в текстовый файл.

def dobavit_film(fail):
    film = input("Введите название фильма: ")
    with open(fail, "a", encoding="utf-8") as f:
        f.seek(0, 2)
        if f.tell() != 0:
            f.write("\n")
        f.write(film)
    print("Фильм добавлен!")


def posmotret_filmy(file):
    try:
        with open(file, "r", encoding="utf-8") as f:
            filmy = [line.strip() for line in f if line.strip()]
            print("Список любимых фильмов:")
            for i, film in enumerate(filmy, 1):
                print(f"{i}. {film}")
            print(f"Всего фильмов: {len(filmy)}")
    except FileNotFoundError:
        print("Файл с фильмами еще не создан.")

def glavny_menu():
    file = "s5.txt"
    while True:
        print("\n1. Добавить фильм\n2. Посмотреть все фильмы\n3. Выход")
        vibor = input("Выберите действие: ")
        if vibor == "1":
            dobavit_film(file)
        elif vibor == "2":
            posmotret_filmy(file)
        elif vibor == "3":
            print("Выход из программы.")
            break
        else:
            print("Неверный выбор. Попробуйте снова.")

glavny_menu()
```
![Меню](https://github.com/vomiraq/eduSOFTENG/blob/%D0%A2%D0%B5%D0%BC%D0%B0_7/pic/s5.PNG)
### Создана программа для ведения списка любимых фильмов с добавлением и просмотром элементов, сохранённых в текстовом файле. Закреплены навыки работы с файлами (a и r режимы), обработкой пустого файла, вводом пользователя и управлением через меню. Итог: программа корректно управляет списком фильмов и сохраняет данные между запусками.

## Общие выводы по теме
### В ходе выполнения лабораторных и самостоятельных работ по Теме 7 «Работа с файлами (ввод, вывод)» были изучены и закреплены основные принципы работы с файлами в Python, включая текстовые и csv-файлы, а также методы их обработки и применения в различных сценариях программирования.
### В лабораторных работах освоены базовые операции с файлами: чтение и запись данных с использованием конструкций open()/close() и with open(), добавление новых данных в файл, полная перезапись содержимого файлов, обработка строк и списков, работа с директориями и подкаталогами, а также создание простых csv-файлов с форматированными данными. В результате закреплены навыки безопасного и эффективного взаимодействия с файловой системой и данными в различных форматах.
### В самостоятельных работах углублены навыки работы с текстовыми файлами: подсчет количества слов и символов, определение самых часто встречающихся элементов, организация учета данных (например, расходов или любимых фильмов), фильтрация запрещенных слов, работа с регистрами и циклическая обработка текста. Получен опыт написания функций для обработки файлов, работы с пользовательским вводом, обработки исключительных ситуаций и организации кода для повторного использования.
